{{ self.title() }}

{{ s('description') }}

在一个 $m \times m$ 的棋盘上，每个方格可能是红色、黄色或无色。任务是从最左上角移动到最右下角。在任何时刻，所站的位置必须是有颜色的，只能向上、下、左、右四个方向移动。当从一个格子移动到另一个格子时，如果两个格子的颜色相同，则无需支付金币；如果颜色不同，则需要支付 $1$ 个金币。

此外，可以花费 $2$ 个金币使用魔法，将下一个无色格子短暂变为指定颜色。魔法不能连续使用，且持续时间有限。一旦使用了魔法，当走到这个暂时有颜色的格子上时不能再次使用魔法；只有在离开这个位置，走到原本有颜色的格子上时才能再次使用魔法。当离开位置时（通过施展魔法使其变为有颜色的格子），该格子恢复为无色。

现在的问题是，从最左上角移动到最右下角，要求达成的最少金币花费是多少？

{{ s('input format') }}

第一行包含两个正整数 $ m, n$，以一个空格分开，分别代表棋盘的大小，棋盘上有颜色的格子的数量。

接下来的 $ n $ 行，每行三个正整数 $ x, y, c$， 分别表示坐标为 $(x,y)$ 的格子有颜色 $ c$。

其中 $ c=1$ 代表黄色，$ c=0$ 代表红色。  棋盘左上角的坐标为 $(1, 1)$，右下角的坐标为 $( m, m)$。

棋盘上其余的格子都是无色。保证棋盘的左上角一定是有颜色的。

{{ s('output format') }}

一个整数，表示花费的金币的最小值，如果无法到达，输出 $-1$。

{{ s('sample', 1) }}

{{ self.sample_text() }}

{{ s('sample', 2) }}

{{ self.sample_text() }}

{{ s('subtasks') }}

对于 $30\%$ 的数据，$1 \le m \le 5$，$1 \le n \le 10$。

对于 $60\%$ 的数据，$1 \le m \le 20$，$1 \le n \le 200$。

对于 $100\%$ 的数据，$1 \le m \le 100$，$1 \le n \le 1000$。

{{ s('提示') }}

题目中说，只能朝四个方向走。可否对使用金币变化颜色的规则做一些拓展，让主角可以往十二个方向走，同时去部分关于颜色的规则呢？

方向太多，若逐个回溯是否代码太长？请查找资料并学习搜索中的**增量数组**。
